# GCP Environment Configuration for Airflow Guardian Server
# This file contains environment variables for GCP deployment

# GCP Project Configuration
GCP_PROJECT_ID=gillcapital-datalake
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# Google Cloud Secret Manager Configuration
LOOKER_SECRET_NAME=looker-pinyapat-client-id-secret
# Note: Client ID and Secret are stored in Secret Manager, not in environment variables

# Looker Configuration
LOOKER_BASE_URL=https://gillcapital.cloud.looker.com/

# Service Configuration
DAYS_BEFORE_SOFT_DELETE=180
NOTIFICATION_EMAIL=pinyapat.a@hthai.co.th
GCS_BUCKET_NAME=gc_looker_test
LOOKER_TIMEOUT=300
TEST_MODE_LIMIT=10

# Airflow Configuration
AIRFLOW_HOME=/opt/airflow
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=true
AIRFLOW__CORE__LOAD_EXAMPLES=false

# Database Configuration (for Compute Engine deployment)
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@localhost:5432/airflow

# Security Configuration
AIRFLOW__CORE__FERNET_KEY=
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session

# GCP Authentication
GOOGLE_APPLICATION_CREDENTIALS=/opt/airflow/config/service-account-key.json

# Monitoring Configuration
AIRFLOW__SCHEDULER__ENABLE_HEALTH_CHECK=true
AIRFLOW__SCHEDULER__DAG_DIR_LIST_INTERVAL=30

# Logging Configuration
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__LOGGING__LOGGING_CONFIG_CLASS=airflow.config_templates.airflow_local_settings.LOGGING_CONFIG
AIRFLOW__LOGGING__BASE_LOG_FOLDER=/opt/airflow/logs
AIRFLOW__LOGGING__DAG_PROCESSOR_MANAGER_LOG_LOCATION=/opt/airflow/logs/dag_processor_manager/dag_processor_manager.log

# Email Configuration (for notifications)
AIRFLOW__SMTP__SMTP_HOST=smtp.gmail.com
AIRFLOW__SMTP__SMTP_STARTTLS=true
AIRFLOW__SMTP__SMTP_SSL=false
AIRFLOW__SMTP__SMTP_USER=
AIRFLOW__SMTP__SMTP_PASSWORD=
AIRFLOW__SMTP__SMTP_PORT=587
AIRFLOW__SMTP__SMTP_MAIL_FROM=

# Performance Configuration
AIRFLOW__CORE__PARALLELISM=32
AIRFLOW__CORE__DAG_CONCURRENCY=16
AIRFLOW__CORE__MAX_ACTIVE_RUNS_PER_DAG=16
AIRFLOW__CORE__MAX_ACTIVE_TASKS_PER_DAG=16

# Compute Engine Specific
AIRFLOW_UID=50000
AIRFLOW_GID=0
